gASVnQgAAAAAAACMD3N3ZWV0QmVhbi5zdGF0ZZSMDlN3ZWV0QmVhblN0YXRllJOUKYGUfZQojBFyZXNlYXJjaF9xdWVzdGlvbpRdlIwTaGlnaF9sZXZlbF9wYXJhZGlnbZRdlIwoc3dlZXRCZWFuLnN0YXRlLmZpZWxkcy5oaWdoTGV2ZWxQYXJhZGlnbZSMEUhpZ2hMZXZlbFBhcmFkaWdtlJOUKYGUfZQojAdsaXRlcmFslFjmAgAAQSBmaXhhdGlvbiBjcm9zcyBpcyBmb2xsb3dlZCBieSBhIGJsYW5rIHNjcmVlbiwgZm9sbG93ZWQgYnkgYSBTdHJvb3Agc3RpbXVsdXMsIGZvbGxvd2VkIGJ5IGFub3RoZXIgYmxhbmsgc2NyZWVuLiAKVGhlIGZpeGF0aW9uIGNyb3NzIGlzIHNob3duIGZvciAxMDAwbXMuIFRoZSBmaXJzdCBibGFuayBzY3JlZW4gaXMgc2hvd24gZm9yIDgwMG1zIHRoZSBzZWNvbmQgZm9yIDMwMG1zLgpUaGUgU3Ryb29wIHN0aW11bHVzIGlzIHNob3duIGZvciAyMDAwbXMuIFRoaXMgaXMgYSB0YXNrLXN3aXRjaGluZyBleHBlcmltZW50LiBUaGUgc2hhcGUgb2YgdGhlIGZpeGF0aW9uIGNyb3NzCmRldGVybWluZXMgdGhlIHRhc2suIEFuICd4IGluZGljYXRlcyBhIHdvcmQgcmVhZGluZyB0YXNrLCBhbmQgYSAnKycgaW5kaWNhdGVzIHRoZSBjb2xvciBuYW1pbmcgdGFzay4gVGhlIApjb2xvciBvZiB0aGUgU3Ryb29wIHRhc2sgYW5kIGl0cyB3b3JkIGFyZSBpbmRpY2F0ZWQgYnkgYSB0aW1lbGluZSwgYXMgaXMgdGhlIHRhc2suIEluIHRoZSB3b3JkIHJlYWRpbmcgdGFzaywKdGhlIGNvcnJlY3QgcmVzcG9uc2UgdG8gIlJFRCIgaXMgcHJlc3NpbmcgZiwgYW5kIHRvICJHUlJFTiIgaXMgcHJlc3Npbmcgai4gU2ltaWxhcmx5LCB0aGUgY29ycmVjdCByZXNwb25zZSAKdG8gYSByZWQgd29yZCBpbiB0aGUgY29sb3IgbmFtaW5nIHRhc2sgaXMgZiwgYW5kIHRoZSBjb3JyZWN0IHJlc3BvbnNlIHRvIGEgZ3JlZW4gd29yZCBpcyBqLpSMBHRleHSUaA+MBXZhbGlklIh1YmGME2RlcGVuZGVudF92YXJpYWJsZXOUXZSMFWluZGVwZW5kZW50X3ZhcmlhYmxlc5RdlIwOc3dlZXRCZWFuX2NvZGWUXZSMJHN3ZWV0QmVhbi5zdGF0ZS5maWVsZHMuc3dlZXRCZWFuQ29kZZSMDVN3ZWV0QmVhbkNvZGWUk5QpgZR9lChoDlhZBAAAY29sb3IgPSBUaW1lbGluZVZhcmlhYmxlKCJjb2xvciIsIFsicmVkIiwgImdyZWVuIl0pCndvcmQgPSBUaW1lbGluZVZhcmlhYmxlKCJ3b3JkIiwgWyJSRUQiLCAiR1JFRU4iXSkKdGFzayA9IFRpbWVsaW5lVmFyaWFibGUoInRhc2siLCBbImNvbG9yX25hbWluZyIsICJ3b3JkX3JlYWRpbmciXSkKCgpkZWYgaXNfZml4YXRpb25feCh0YXNrKToKICAgIHJldHVybiB0YXNrID09ICJ3b3JkX3JlYWRpbmciCgoKZGVmIGlzX2ZpeGF0aW9uX3BsdXModGFzayk6CiAgICByZXR1cm4gdGFzayA9PSAiY29sb3JfbmFtaW5nIgoKCnhfc2hhcGUgPSBEZXJpdmVkTGV2ZWwoIngiLCBpc19maXhhdGlvbl94LCBbdGFza10pCnBsdXNfc2hhcGUgPSBEZXJpdmVkTGV2ZWwoIisiLCBpc19maXhhdGlvbl9wbHVzLCBbdGFza10pCgpmaXhhdGlvbl9zaGFwZSA9IERlcml2ZWRQYXJhbWV0ZXIoImZpeGF0aW9uX3NoYXBlIiwgW3hfc2hhcGUsIHBsdXNfc2hhcGVdKQoKCmRlZiBpc19jb3JyZWN0X2Yod29yZCwgY29sb3IsIHRhc2spOgogICAgcmV0dXJuICh0YXNrID09ICJ3b3JkX3JlYWRpbmciIGFuZCB3b3JkID09ICJSRUQiKSBvciAoCiAgICAgICAgdGFzayA9PSAiY29sb3JfbmFtaW5nIiBhbmQgY29sb3IgPT0gInJlZCIKICAgICkKCgpkZWYgaXNfY29ycmVjdF9qKHdvcmQsIGNvbG9yLCB0YXNrKToKICAgIHJldHVybiBub3QgaXNfY29ycmVjdF9mKHdvcmQsIGNvbG9yLCB0YXNrKQoKCmpfa2V5ID0gRGVyaXZlZExldmVsKCJqIiwgaXNfY29ycmVjdF9qLCBbd29yZCwgY29sb3IsIHRhc2tdKQpmX2tleSA9IERlcml2ZWRMZXZlbCgiZiIsIGlzX2NvcnJlY3RfZiwgW3dvcmQsIGNvbG9yLCB0YXNrXSkKCmNvcnJlY3Rfa2V5ID0gRGVyaXZlZFBhcmFtZXRlcigiY29ycmVjdCIsIFtqX2tleSwgZl9rZXldKQoKZml4YXRpb24gPSBUZXh0U3RpbXVsdXMoMTAwMCwgZml4YXRpb25fc2hhcGUpCnNvX3MgPSBUZXh0U3RpbXVsdXMoODAwKQpzdHJvb3AgPSBUZXh0U3RpbXVsdXMoMjAwMCwgd29yZCwgY29sb3IsIFsiaiIsICJnIl0sIGNvcnJlY3Rfa2V5KQpzb19mID0gVGV4dFN0aW11bHVzKDMwMCkKCmV2ZW50X3NlcXVlbmNlID0gW2ZpeGF0aW9uLCBzb19zLCBzdHJvb3AsIHNvX2ZdlGgQaB1oEYh1YmF1Yi4=