gASVqAgAAAAAAACMD3N3ZWV0QmVhbi5zdGF0ZZSMDlN3ZWV0QmVhblN0YXRllJOUKYGUfZQojBFyZXNlYXJjaF9xdWVzdGlvbpRdlIwTaGlnaF9sZXZlbF9wYXJhZGlnbZRdlIwTZGVwZW5kZW50X3ZhcmlhYmxlc5RdlIwVaW5kZXBlbmRlbnRfdmFyaWFibGVzlF2UjA5ldmVudF9zZXF1ZW5jZZRdlIwkc3dlZXRCZWFuLnN0YXRlLmZpZWxkcy5ldmVudFNlcXVlbmNllIwNRXZlbnRTZXF1ZW5jZZSTlCmBlH2UKIwHbGl0ZXJhbJRY5gIAAEEgZml4YXRpb24gY3Jvc3MgaXMgZm9sbG93ZWQgYnkgYSBibGFuayBzY3JlZW4sIGZvbGxvd2VkIGJ5IGEgU3Ryb29wIHN0aW11bHVzLCBmb2xsb3dlZCBieSBhbm90aGVyIGJsYW5rIHNjcmVlbi4gClRoZSBmaXhhdGlvbiBjcm9zcyBpcyBzaG93biBmb3IgMTAwMG1zLiBUaGUgZmlyc3QgYmxhbmsgc2NyZWVuIGlzIHNob3duIGZvciA4MDBtcyB0aGUgc2Vjb25kIGZvciAzMDBtcy4KVGhlIFN0cm9vcCBzdGltdWx1cyBpcyBzaG93biBmb3IgMjAwMG1zLiBUaGlzIGlzIGEgdGFzay1zd2l0Y2hpbmcgZXhwZXJpbWVudC4gVGhlIHNoYXBlIG9mIHRoZSBmaXhhdGlvbiBjcm9zcwpkZXRlcm1pbmVzIHRoZSB0YXNrLiBBbiAneCBpbmRpY2F0ZXMgYSB3b3JkIHJlYWRpbmcgdGFzaywgYW5kIGEgJysnIGluZGljYXRlcyB0aGUgY29sb3IgbmFtaW5nIHRhc2suIFRoZSAKY29sb3Igb2YgdGhlIFN0cm9vcCB0YXNrIGFuZCBpdHMgd29yZCBhcmUgaW5kaWNhdGVkIGJ5IGEgdGltZWxpbmUsIGFzIGlzIHRoZSB0YXNrLiBJbiB0aGUgd29yZCByZWFkaW5nIHRhc2ssCnRoZSBjb3JyZWN0IHJlc3BvbnNlIHRvICJSRUQiIGlzIHByZXNzaW5nIGYsIGFuZCB0byAiR1JSRU4iIGlzIHByZXNzaW5nIGouIFNpbWlsYXJseSwgdGhlIGNvcnJlY3QgcmVzcG9uc2UgCnRvIGEgcmVkIHdvcmQgaW4gdGhlIGNvbG9yIG5hbWluZyB0YXNrIGlzIGYsIGFuZCB0aGUgY29ycmVjdCByZXNwb25zZSB0byBhIGdyZWVuIHdvcmQgaXMgai6UjAR0ZXh0lGgVjAV2YWxpZJSIdWJhjA5zd2VldEJlYW5fY29kZZRdlIwkc3dlZXRCZWFuLnN0YXRlLmZpZWxkcy5zd2VldEJlYW5Db2RllIwNU3dlZXRCZWFuQ29kZZSTlCmBlH2UKGgUWFkEAABjb2xvciA9IFRpbWVsaW5lVmFyaWFibGUoImNvbG9yIiwgWyJyZWQiLCAiZ3JlZW4iXSkKd29yZCA9IFRpbWVsaW5lVmFyaWFibGUoIndvcmQiLCBbIlJFRCIsICJHUkVFTiJdKQp0YXNrID0gVGltZWxpbmVWYXJpYWJsZSgidGFzayIsIFsiY29sb3JfbmFtaW5nIiwgIndvcmRfcmVhZGluZyJdKQoKCmRlZiBpc19maXhhdGlvbl94KHRhc2spOgogICAgcmV0dXJuIHRhc2sgPT0gIndvcmRfcmVhZGluZyIKCgpkZWYgaXNfZml4YXRpb25fcGx1cyh0YXNrKToKICAgIHJldHVybiB0YXNrID09ICJjb2xvcl9uYW1pbmciCgoKeF9zaGFwZSA9IERlcml2ZWRMZXZlbCgieCIsIGlzX2ZpeGF0aW9uX3gsIFt0YXNrXSkKcGx1c19zaGFwZSA9IERlcml2ZWRMZXZlbCgiKyIsIGlzX2ZpeGF0aW9uX3BsdXMsIFt0YXNrXSkKCmZpeGF0aW9uX3NoYXBlID0gRGVyaXZlZFBhcmFtZXRlcigiZml4YXRpb25fc2hhcGUiLCBbeF9zaGFwZSwgcGx1c19zaGFwZV0pCgoKZGVmIGlzX2NvcnJlY3RfZih3b3JkLCBjb2xvciwgdGFzayk6CiAgICByZXR1cm4gKHRhc2sgPT0gIndvcmRfcmVhZGluZyIgYW5kIHdvcmQgPT0gIlJFRCIpIG9yICgKICAgICAgICB0YXNrID09ICJjb2xvcl9uYW1pbmciIGFuZCBjb2xvciA9PSAicmVkIgogICAgKQoKCmRlZiBpc19jb3JyZWN0X2ood29yZCwgY29sb3IsIHRhc2spOgogICAgcmV0dXJuIG5vdCBpc19jb3JyZWN0X2Yod29yZCwgY29sb3IsIHRhc2spCgoKal9rZXkgPSBEZXJpdmVkTGV2ZWwoImoiLCBpc19jb3JyZWN0X2osIFt3b3JkLCBjb2xvciwgdGFza10pCmZfa2V5ID0gRGVyaXZlZExldmVsKCJmIiwgaXNfY29ycmVjdF9mLCBbd29yZCwgY29sb3IsIHRhc2tdKQoKY29ycmVjdF9rZXkgPSBEZXJpdmVkUGFyYW1ldGVyKCJjb3JyZWN0IiwgW2pfa2V5LCBmX2tleV0pCgpmaXhhdGlvbiA9IFRleHRTdGltdWx1cygxMDAwLCBmaXhhdGlvbl9zaGFwZSkKc29fcyA9IFRleHRTdGltdWx1cyg4MDApCnN0cm9vcCA9IFRleHRTdGltdWx1cygyMDAwLCB3b3JkLCBjb2xvciwgWyJqIiwgImciXSwgY29ycmVjdF9rZXkpCnNvX2YgPSBUZXh0U3RpbXVsdXMoMzAwKQoKZXZlbnRfc2VxdWVuY2UgPSBbZml4YXRpb24sIHNvX3MsIHN0cm9vcCwgc29fZl2UaBZoH2gXiHViYXViLg==